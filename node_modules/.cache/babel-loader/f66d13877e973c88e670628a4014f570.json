{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sudhakaracnr/Documents/ReactProjects/note-app/Frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/sudhakaracnr/Documents/ReactProjects/note-app/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/sudhakaracnr/Documents/ReactProjects/note-app/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useRef,useEffect,useState}from'react';import axios from'axios';import'./login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(prop){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var ERROR=useRef();var loginProcess=function loginProcess(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios({method:\"post\",url:\"/login\",headers:{},data:{e:\"\".concat(email),p:\"\".concat(password)}}).then(function(ob){if(ob.data.message){prop.SetUser(ob.data.username);prop.ShowSet({home:true,create:false,search:false,login:false,register:false});}else{setError(\"email or password is wrong\");setInterval(function(){setError('');},5000);}});case 2:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();if(email!==\"\"&&password!==\"\")fetchData();else{setError(\"Do fill every field\");setInterval(function(){setError('');},5000);}};if(prop.login){return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"my-2 py-2\",placeholder:\"Email\",onChange:function onChange(e){setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"py-2\",placeholder:\"Password\",onChange:function onChange(e){setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"my-2 btn btn-outline-dark btn-bg\",onClick:loginProcess,children:\"Login\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:\"0.5em\",color:\"red\"},ref:ERROR,children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"createAccount\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"New to us - \"}),/*#__PURE__*/_jsx(\"a\",{onClick:prop.regAlert,children:\"Create an Account\"})]})]});}return/*#__PURE__*/_jsx(_Fragment,{});};export default Login;","map":{"version":3,"names":["useRef","useEffect","useState","axios","Login","prop","email","setEmail","password","setPassword","error","setError","ERROR","loginProcess","fetchData","method","url","headers","data","e","p","then","ob","message","SetUser","username","ShowSet","home","create","search","login","register","setInterval","target","value","fontSize","color","regAlert"],"sources":["/Users/sudhakaracnr/Documents/ReactProjects/note-app/Frontend/src/components/Login/login.js"],"sourcesContent":["import { useRef, useEffect, useState } from 'react';\nimport axios from 'axios';\nimport './login.css';\n\nconst Login = (prop)=>{\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const [error, setError]  = useState(\"\");\n    const ERROR = useRef();\n\n    const loginProcess = ()=>{\n        const fetchData = async()=>{\n            await axios({\n                method: \"post\",\n                url: \"/login\",\n                headers: {},\n                data: {\n                    e : `${email}`,\n                    p : `${password}`\n                }\n            })\n            .then((ob)=>{\n                if(ob.data.message){\n                    prop.SetUser(ob.data.username);\n                    prop.ShowSet(\n                        {\n                            home : true,\n                            create : false,\n                            search : false,\n                            login : false,\n                            register : false\n                        }\n                    )\n                }else{\n                    setError(\"email or password is wrong\");\n                    setInterval(()=>{\n                        setError('');\n                    }, 5000);\n                }\n            })\n        }\n        if(email !== \"\" && password !== \"\") fetchData();\n        else{\n            setError(\"Do fill every field\");\n            setInterval(()=>{\n                setError('');\n            }, 5000);\n        }\n    }\n\n    if(prop.login){\n        return(\n            <div className=\"login\">\n                <input type=\"text\" className=\"my-2 py-2\" placeholder=\"Email\" \n                    onChange={(e)=>{setEmail(e.target.value)}}\n                />\n                <input type=\"password\" className=\"py-2\" placeholder=\"Password\"\n                    onChange={(e)=>{setPassword(e.target.value)}}\n                />\n                <button className=\"my-2 btn btn-outline-dark btn-bg\" onClick={loginProcess}>Login</button>\n                <p style={{fontSize : \"0.5em\", color: \"red\"}} ref={ERROR}>{error}</p>\n                <div className=\"createAccount\">\n                    <span>New to us - </span>\n                    <a onClick={prop.regAlert}>Create an Account</a>\n                </div>\n            </div>\n        );\n    }\n    return(\n        <></>\n    );\n}\n\nexport default Login;"],"mappings":"ycAAA,OAASA,MAAT,CAAiBC,SAAjB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAO,aAAP,C,6IAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,CAACC,IAAD,CAAQ,CAElB,cAA0BH,QAAQ,CAAC,EAAD,CAAlC,wCAAOI,KAAP,eAAcC,QAAd,eACA,eAAgCL,QAAQ,CAAC,EAAD,CAAxC,yCAAOM,QAAP,eAAiBC,WAAjB,eAEA,eAA2BP,QAAQ,CAAC,EAAD,CAAnC,yCAAOQ,KAAP,eAAcC,QAAd,eACA,GAAMC,MAAK,CAAGZ,MAAM,EAApB,CAEA,GAAMa,aAAY,CAAG,QAAfA,aAAe,EAAI,CACrB,GAAMC,UAAS,4FAAG,2JACRX,MAAK,CAAC,CACRY,MAAM,CAAE,MADA,CAERC,GAAG,CAAE,QAFG,CAGRC,OAAO,CAAE,EAHD,CAIRC,IAAI,CAAE,CACFC,CAAC,WAAMb,KAAN,CADC,CAEFc,CAAC,WAAMZ,QAAN,CAFC,CAJE,CAAD,CAAL,CASLa,IATK,CASA,SAACC,EAAD,CAAM,CACR,GAAGA,EAAE,CAACJ,IAAH,CAAQK,OAAX,CAAmB,CACflB,IAAI,CAACmB,OAAL,CAAaF,EAAE,CAACJ,IAAH,CAAQO,QAArB,EACApB,IAAI,CAACqB,OAAL,CACI,CACIC,IAAI,CAAG,IADX,CAEIC,MAAM,CAAG,KAFb,CAGIC,MAAM,CAAG,KAHb,CAIIC,KAAK,CAAG,KAJZ,CAKIC,QAAQ,CAAG,KALf,CADJ,EASH,CAXD,IAWK,CACDpB,QAAQ,CAAC,4BAAD,CAAR,CACAqB,WAAW,CAAC,UAAI,CACZrB,QAAQ,CAAC,EAAD,CAAR,CACH,CAFU,CAER,IAFQ,CAAX,CAGH,CACJ,CA3BK,CADQ,uDAAH,kBAATG,UAAS,0CAAf,CA8BA,GAAGR,KAAK,GAAK,EAAV,EAAgBE,QAAQ,GAAK,EAAhC,CAAoCM,SAAS,GAA7C,IACI,CACAH,QAAQ,CAAC,qBAAD,CAAR,CACAqB,WAAW,CAAC,UAAI,CACZrB,QAAQ,CAAC,EAAD,CAAR,CACH,CAFU,CAER,IAFQ,CAAX,CAGH,CACJ,CAtCD,CAwCA,GAAGN,IAAI,CAACyB,KAAR,CAAc,CACV,mBACI,aAAK,SAAS,CAAC,OAAf,wBACI,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,WAA7B,CAAyC,WAAW,CAAC,OAArD,CACI,QAAQ,CAAE,kBAACX,CAAD,CAAK,CAACZ,QAAQ,CAACY,CAAC,CAACc,MAAF,CAASC,KAAV,CAAR,CAAyB,CAD7C,EADJ,cAII,cAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,MAAjC,CAAwC,WAAW,CAAC,UAApD,CACI,QAAQ,CAAE,kBAACf,CAAD,CAAK,CAACV,WAAW,CAACU,CAAC,CAACc,MAAF,CAASC,KAAV,CAAX,CAA4B,CADhD,EAJJ,cAOI,eAAQ,SAAS,CAAC,kCAAlB,CAAqD,OAAO,CAAErB,YAA9D,mBAPJ,cAQI,UAAG,KAAK,CAAE,CAACsB,QAAQ,CAAG,OAAZ,CAAqBC,KAAK,CAAE,KAA5B,CAAV,CAA8C,GAAG,CAAExB,KAAnD,UAA2DF,KAA3D,EARJ,cASI,aAAK,SAAS,CAAC,eAAf,wBACI,sCADJ,cAEI,UAAG,OAAO,CAAEL,IAAI,CAACgC,QAAjB,+BAFJ,GATJ,GADJ,CAgBH,CACD,mBACI,kBADJ,CAGH,CArED,CAuEA,cAAejC,MAAf"},"metadata":{},"sourceType":"module"}